(this.webpackJsonphub=this.webpackJsonphub||[]).push([[0],{63:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(41),s=a.n(c),r=a(17),o=a(48),l=a.n(o),u=a(56),d=a(25),p=(a(63),a(2));function h(){return Object(p.jsxs)("div",{className:"lds-ripple",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})}var b=a(32);function j(e){return Object(p.jsx)("span",{className:"w-full text-sm pt-1 truncate",children:e.children||e.name})}var f=a(76),m=a(74),x=function(e,t){var a=Object(f.a)(),i={scale:1,opacity:1},c={scale:0,opacity:0};return Object(n.useEffect)((function(){!1!==e.show?a.start(i):a.start(c)}),[e.show]),Object(p.jsx)(m.a.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1+.1*e.i},className:"flex flex-col w-full m-auto  overflow-hidden",children:Object(p.jsx)(m.a.div,{initial:{scale:0,opacity:0},animate:a,className:"flex flex-col w-full m-auto bordere border-red-100 relative overflow-hidden",ref:t,children:e.children})})};function O(e){var t=Object(b.b)((function(e){return e.applis.value})),a=Object(n.useState)(null),i=Object(d.a)(a,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){var a=function(a){var n=function(e){throw new Error("Hub appli need ".concat(e," in manifest"))},i={};i.name=a.short_name||n("short_name"),i.url=t[e.id],i.icon=a.icons.find((function(e){return"144x144"===e.sizes}))||n("one icon of size 144x144"),s(i)};function n(){return(n=Object(u.a)(l.a.mark((function n(){var i,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t[e.id]){n.next=3;break}throw new Error("Can't get appli data");case 3:return n.next=5,fetch(t[e.id]+"/manifest.json");case 5:return i=n.sent,n.next=8,i.json();case 8:c=n.sent,a(c),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(p.jsx)("a",Object(r.a)(Object(r.a)({className:"flex flex-col text items-center"},e.minimize?{}:{href:c?c.url:"/"}),{},{children:Object(p.jsxs)(x,{i:e.i,children:[Object(p.jsx)("div",{className:"".concat(e.minimize?"":" m-2"),children:c?Object(p.jsx)("img",{className:"appli-img ".concat(e.minimize?"rounded":"rounded-lg"),src:new URL(c.icon.src,c.url)}):Object(p.jsx)("div",{className:"appli-img",children:Object(p.jsx)(h,{})})}),c&&!e.minimize&&Object(p.jsx)(j,{name:c.name})]})}))}var v=a(75);function w(e){var t,a,i=Object(n.useRef)(null),c=Object(f.a)(),s=Object(f.a)(),r=Object(d.a)(e.data,2),o=r[0],l=r[1],u=(l.length,3),h={open:{scale:1},close:{scale:0}},b={open:{opacity:1,scale:1,transition:{duration:.05}},close:{opacity:0,scale:0,transition:{duration:.1}}};return t=i,a=function(){e.onClose()},Object(n.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&a()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(n.useEffect)((function(){s.start(h[e.isOpen?"open":"close"]),c.start(b[e.isOpen?"open":"close"])}),[e.isOpen]),Object(p.jsxs)(v.a,{children:[Object(p.jsx)(m.a.div,{className:"z-50 fixed w-screen h-screen top-0 left-0 backdrop-filter backdrop-blur-sm backdrop-brightness-75",animate:c,initial:{opacity:0,scale:0}},1),Object(p.jsx)(m.a.div,{className:"z-50 fixed w-screen h-screen top-0 left-0 flex flex-col items-center",animate:s,initial:{scale:0},children:Object(p.jsxs)("div",{ref:i,className:"popup m-auto w-3/4 relative group flex flex-col text items-center justify-start",children:[Object(p.jsx)("span",{className:"-mt-10 pb-4 text-xl text-white",children:o}),Object(p.jsx)("div",{className:"grid grid-cols-".concat(u," grid-rows-").concat(u," gap-2 p-2 bg-gray-100 rounded-2xl p-4"),children:l.map((function(t,a){return Object(p.jsx)(O,{id:t},e.key+"-"+a)}))})]})},2)]})}function g(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),i=a[0],c=a[1],s=Object(d.a)(e.data,2),r=s[0],o=s[1],l=(o.length,3);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"flex flex-col text items-center",onClick:function(){return c(!0)},children:Object(p.jsxs)(x,{i:e.i,show:!i,children:[Object(p.jsx)("div",{className:"grid grid-cols-".concat(l," grid-rows-").concat(l," gap-px m-auto p-2 bg-gray-100 rounded-xl"),children:o.map((function(t,a){return Object(p.jsx)(O,{i:5*e.i+a,minimize:!0,id:t},e.j+"-"+a)}))}),Object(p.jsx)(j,{name:r})]})}),Object(p.jsx)(w,{data:e.data,isOpen:i,onClose:function(){return c(!1)}})]})}function y(e){return Array.isArray(e.data)?Object(p.jsx)(g,{i:e.i,data:e.data}):Object(p.jsx)(O,{i:e.i,id:e.data})}function N(e){var t=Object(b.b)((function(e){return e.disposition.value}));return Object(p.jsxs)("div",{className:"text-black bg-white flex flex-col items-center text-center ",children:[Object(p.jsx)(m.a.div,{className:"absolute top-0 left-0 right-0 ",initial:{height:0},animate:{height:"200px"}}),Object(p.jsx)(m.a.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"pt-20 pb-5 text-8xl font-hand",children:"Le Hub."}),Object(p.jsx)(m.a.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3},className:"pb-5 text-2xl font-hand",children:"Alias, un concentr\xe9 de mes sites."}),Object(p.jsx)("div",{className:"m-auto px-4 w-full md:w-2/3 lg:1/3 py-12 lg:py-28 grid gap-2 grid-cols-4 grid-rows-6 auto-rows-min",children:t.map((function(e,t){return Object(p.jsx)(y,{i:t,data:e},t)}))})]})}a(71);var k=a(18),E=Object(k.b)({name:"disposition",initialState:{value:[["Demo",["pendulum","collision","cb","pattern"]],["Outils",["physique","draw","share","preview","hub"]],["R\xe9alisations professionelles",["lubbockphotos","rachelbourgeois"]],["Jeux",["snake"]],"bordeauxphoto","yota","quoted","arthaud"]},reducers:{set:function(e,t){e.value=t.payload}}}),_=(E.actions.set,E.reducer),S=Object(k.b)({name:"applis",initialState:{value:{preview:"https://preview.arthaud.dev",draw:"https://draw.arthaud.dev",share:"https://share.arthaud.dev",yota:"https://yota.arthaud.dev",snake:"https://snake.arthaud.dev",collision:"https://collision.arthaud.dev",pendulum:"https://pendulum.arthaud.dev",cb:"https://cb.arthaud.dev",pattern:"https://pattern.arthaud.dev",physique:"https://physique.arthaud.dev",quoted:"https://quoted.arthaud.dev",lubbockphotos:"https://lubbockphotos.com",rachelbourgeois:"https://rachelbourgeois-psychologue.fr",bordeauxphoto:"https://bordeaux-photo.fr",arthaud:"https://arthaudproust.fr",hub:"https://hub.arthaud.dev"}},reducers:{set:function(e,t){e.value=t.payload}}}),z=(S.actions.set,S.reducer),D=Object(k.b)({name:"popup",initialState:{value:{isPopupOpen:!1,popupData:["",[]]}},reducers:{open:function(e,t){e.value={isPopupOpen:!0,popupData:t.payload||e.value.popupData}},close:function(e){e.value=Object(r.a)(Object(r.a)({},e.value),{},{isPopupOpen:!1})},clear:function(e){e.value={isPopupOpen:!1,popupData:["",[]]}}}}),q=D.actions,L=(q.open,q.close,q.clear,D.reducer),R=Object(k.a)({reducer:{disposition:_,applis:z,popup:L}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(b.a,{store:R,children:Object(p.jsx)(N,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.bf446574.chunk.js.map