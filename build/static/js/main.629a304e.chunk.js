(this.webpackJsonphub=this.webpackJsonphub||[]).push([[0],{63:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"dispositionSlice",(function(){return k})),n.d(a,"set",(function(){return S})),n.d(a,"default",(function(){return z}));var c={};n.r(c),n.d(c,"applisSlice",(function(){return D})),n.d(c,"set",(function(){return L})),n.d(c,"default",(function(){return P}));var i=n(1),s=n.n(i),r=n(42),o=n.n(r),l=n(33),u=n.n(l),d=n(43),p=n(17),j=n(26),f=(n(63),n(2));function b(){return Object(f.jsxs)("div",{className:"lds-ripple",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})}var x=n(25);function m(e){return Object(f.jsx)("span",{className:"w-full text-sm pt-1 truncate",children:e.children||e.name})}var O=n(76),h=n(74),v=function(e,t){var n=Object(O.a)(),a={scale:1,opacity:1},c={scale:0,opacity:0};return Object(i.useEffect)((function(){!1!==e.show?n.start(a):n.start(c)}),[e.show]),Object(f.jsx)(h.a.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1+.1*e.i},className:"flex flex-col w-full m-auto  overflow-hidden",children:Object(f.jsx)(h.a.div,{initial:{scale:0,opacity:0},animate:n,className:"flex flex-col w-full m-auto bordere border-red-100 relative overflow-hidden",ref:t,children:e.children})})};function w(e){var t=Object(x.c)((function(e){return e.applis.value})),n=Object(i.useState)(null),a=Object(j.a)(n,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){var n=function(n){var a=function(e){throw new Error("Hub appli need ".concat(e," in manifest"))},c={};c.name=n.short_name||a("short_name"),c.url=t[e.id],c.icon=n.icons.find((function(e){return"144x144"===e.sizes}))||a("one icon of size 144x144"),s(c)};function a(){return(a=Object(d.a)(u.a.mark((function a(){var c,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t==={}){a.next=15;break}if(a.prev=1,!t[e.id]){a.next=10;break}return a.next=5,fetch(t[e.id]+"/manifest.json");case 5:return c=a.sent,a.next=8,c.json();case 8:i=a.sent,n(i);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.error("Unable to fetch ".concat(t[e.id]," manifest"));case 15:case"end":return a.stop()}}),a,null,[[1,12]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[t]),Object(f.jsx)("a",Object(p.a)(Object(p.a)({className:"flex flex-col text items-center"},e.minimize?{}:{href:c?c.url:"/"}),{},{children:Object(f.jsxs)(v,{i:e.i,children:[Object(f.jsx)("div",{className:"".concat(e.minimize?"":" m-2"),children:c?Object(f.jsx)("img",{className:"appli-img ".concat(e.minimize?"rounded":"rounded-lg"),src:new URL(c.icon.src,c.url)}):Object(f.jsx)("div",{className:"appli-img",children:Object(f.jsx)(b,{})})}),c&&!e.minimize&&Object(f.jsx)(m,{name:c.name})]})}))}var g=n(75);function y(e){var t,n,a=Object(i.useRef)(null),c=Object(O.a)(),s=Object(O.a)(),r=Object(j.a)(e.data,2),o=r[0],l=r[1],u=(l.length,3),d={open:{scale:1},close:{scale:0}},p={open:{opacity:1,scale:1,transition:{duration:.05}},close:{opacity:0,scale:0,transition:{duration:.1}}};return t=a,n=function(){e.onClose()},Object(i.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(i.useEffect)((function(){s.start(d[e.isOpen?"open":"close"]),c.start(p[e.isOpen?"open":"close"])}),[e.isOpen]),Object(f.jsxs)(g.a,{children:[Object(f.jsx)(h.a.div,{className:"z-50 fixed w-screen h-screen top-0 left-0 backdrop-filter backdrop-blur-sm backdrop-brightness-75",animate:c,initial:{opacity:0,scale:0}},1),Object(f.jsx)(h.a.div,{className:"z-50 fixed w-screen h-screen top-0 left-0 flex flex-col items-center",animate:s,initial:{scale:0},children:Object(f.jsxs)("div",{ref:a,className:"popup m-auto w-3/4 md:w-1/3 lg:w-1/3 xl:w-1/4 relative group flex flex-col text items-center justify-start",children:[Object(f.jsx)("span",{className:"-mt-10 pb-4 text-xl text-white",children:o}),Object(f.jsx)("div",{className:"grid grid-cols-".concat(u," grid-rows-").concat(u," gap-2 p-2 bg-gray-100 rounded-2xl p-4"),children:l.map((function(t,n){return Object(f.jsx)(w,{id:t},e.key+"-"+n)}))})]})},2)]})}function N(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(j.a)(e.data,2),r=s[0],o=s[1],l=(o.length,3);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex flex-col text items-center",onClick:function(){return c(!0)},children:Object(f.jsxs)(v,{i:e.i,show:!a,children:[Object(f.jsx)("div",{className:"grid grid-cols-".concat(l," grid-rows-").concat(l," gap-px m-auto p-2 bg-gray-100 rounded-xl"),children:o.map((function(t,n){return Object(f.jsx)(w,{i:5*e.i+n,minimize:!0,id:t},e.j+"-"+n)}))}),Object(f.jsx)(m,{name:r})]})}),Object(f.jsx)(y,{data:e.data,isOpen:a,onClose:function(){return c(!1)}})]})}function E(e){return Array.isArray(e.data)?Object(f.jsx)(N,{i:e.i,data:e.data}):Object(f.jsx)(w,{i:e.i,id:e.data})}var _=n(18),k=Object(_.b)({name:"disposition",initialState:{value:[]},reducers:{set:function(e,t){e.value=t.payload}}}),S=k.actions.set,z=k.reducer,D=Object(_.b)({name:"applis",initialState:{value:{}},reducers:{set:function(e,t){e.value=t.payload}}}),L=D.actions.set,P=D.reducer,R=Object(_.b)({name:"popup",initialState:{value:{isPopupOpen:!1,popupData:["",[]]}},reducers:{open:function(e,t){e.value={isPopupOpen:!0,popupData:t.payload||e.value.popupData}},close:function(e){e.value=Object(p.a)(Object(p.a)({},e.value),{},{isPopupOpen:!1})},clear:function(e){e.value={isPopupOpen:!1,popupData:["",[]]}}}}),T=R.actions,U=(T.open,T.close,T.clear,R.reducer),X=Object(_.a)({reducer:{disposition:z,applis:P,popup:U}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function A(e){var t=Object(x.c)((function(e){return e.disposition.value})),n=Object(x.b)();return Object(i.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config.json");case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,n(a.set(i.disposition)),n(c.set(i.applis));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(f.jsxs)("div",{className:"text-black bg-white flex flex-col items-center text-center ",children:[Object(f.jsx)(h.a.div,{className:"absolute top-0 left-0 right-0 ",initial:{height:0},animate:{height:"200px"}}),Object(f.jsx)(h.a.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"pt-20 pb-5 text-8xl md:text-9xl font-hand",children:"Le Hub."}),Object(f.jsx)(h.a.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3},className:"pb-5 text-2xl md:text-3xl lg:text-4xl font-hand",children:"Alias, un concentr\xe9 de mes sites."}),Object(f.jsx)("div",{className:"m-auto px-4 w-full md:w-1/2 lg:w-1/2 xl:w-1/3 py-12 lg:py-28 grid gap-2 grid-cols-4 grid-rows-6 auto-rows-min",children:t.map((function(e,t){return Object(f.jsx)(E,{i:t,data:e},t)}))})]})}n(71);o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(x.a,{store:X,children:Object(f.jsx)(A,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.629a304e.chunk.js.map